Title: Storage

URL Source: https://developers.openai.com/apps-sdk/build/storage

Markdown Content:
Storage

===============

[![Image 1: OpenAI Developers](https://developers.openai.com/OpenAI_Developers.svg)](https://developers.openai.com/)

[Resources](https://developers.openai.com/)[Codex](https://developers.openai.com/codex)[ChatGPT](https://developers.openai.com/chatgpt)[Blog](https://developers.openai.com/blog)Search⌘K

Search the docs
---------------

⌘K/Ctrl K

 Close 

Primary navigation

ChatGPT

Resources Codex ChatGPT Blog

1.   [ChatGPT](https://developers.openai.com/chatgpt)
2.   >[Apps SDK](https://developers.openai.com/apps-sdk)

*   [Home](https://developers.openai.com/)

### Categories

*   [Code](https://developers.openai.com/resources/code)
*   [Cookbooks](https://developers.openai.com/resources/cookbooks)
*   [Guides](https://developers.openai.com/resources/guides)
*   [Videos](https://developers.openai.com/resources/videos)

### Topics

*   [Agents](https://developers.openai.com/topics/agents)
*   [Audio & Voice](https://developers.openai.com/topics/audio)
*   [Image generation](https://developers.openai.com/topics/imagegen)
*   [Tools](https://developers.openai.com/topics/tools)
*   [Computer use](https://developers.openai.com/topics/cua)
*   [Fine-tuning](https://developers.openai.com/topics/fine-tuning)
*   [Scaling](https://developers.openai.com/topics/scaling)

*   [Home](https://developers.openai.com/codex)
*   [Quickstart](https://developers.openai.com/codex/quickstart)
*   [Concepts](https://developers.openai.com/codex/concepts)
*   [Pricing](https://developers.openai.com/codex/pricing)
*   [Changelog](https://developers.openai.com/codex/changelog)

### Codex CLI

*   [Overview](https://developers.openai.com/codex/cli)
*   [Configuration](https://developers.openai.com/codex/local-config#cli)

### Codex IDE Extension

*   [Set up your IDE](https://developers.openai.com/codex/ide)
*   [Configuration](https://developers.openai.com/codex/local-config#ide)
*   [IDE → Cloud tasks](https://developers.openai.com/codex/ide/cloud-tasks)

### Codex Cloud

*   [Delegate to Codex](https://developers.openai.com/codex/cloud)
*   [Environments](https://developers.openai.com/codex/cloud/environments)
*   [Code Review](https://developers.openai.com/codex/cloud/code-review)
*   [Internet Access](https://developers.openai.com/codex/cloud/internet-access)

### Codex SDK

*   [Overview](https://developers.openai.com/codex/sdk)
*   [TypeScript](https://developers.openai.com/codex/sdk#typescript-library)
*   [GitHub Action](https://developers.openai.com/codex/sdk#github-action)

### Guides

*   [Agents SDK](https://developers.openai.com/codex/guides/agents-sdk)
*   [Prompting Codex](https://developers.openai.com/codex/prompting)
*   [Model Context Protocol (MCP)](https://developers.openai.com/codex/mcp)
*   [Autofix CI](https://developers.openai.com/codex/autofix-ci)
*   [Enterprise Admin](https://developers.openai.com/codex/enterprise)
*   [Security Admin](https://developers.openai.com/codex/security)
*   [Codex on Windows](https://developers.openai.com/codex/windows)

### Integrations

*   [Slack](https://developers.openai.com/codex/integrations/slack)

### Resources

*   [AGENTS.md](https://agents.md/)
*   [Codex on GitHub](https://github.com/openai/codex)

*   [Home](https://developers.openai.com/apps-sdk)

### Core Concepts

*   [MCP Server](https://developers.openai.com/apps-sdk/concepts/mcp-server)
*   [User interaction](https://developers.openai.com/apps-sdk/concepts/user-interaction)
*   [Design guidelines](https://developers.openai.com/apps-sdk/concepts/design-guidelines)

### Plan

*   [Research use cases](https://developers.openai.com/apps-sdk/plan/use-case)
*   [Define tools](https://developers.openai.com/apps-sdk/plan/tools)
*   [Design components](https://developers.openai.com/apps-sdk/plan/components)

### Build

*   [Set up your server](https://developers.openai.com/apps-sdk/build/mcp-server)
*   [Build a custom UX](https://developers.openai.com/apps-sdk/build/custom-ux)
*   [Authenticate users](https://developers.openai.com/apps-sdk/build/auth)
*   [Persist state](https://developers.openai.com/apps-sdk/build/storage)
*   [Examples](https://developers.openai.com/apps-sdk/build/examples)

### Deploy

*   [Deploy your app](https://developers.openai.com/apps-sdk/deploy)
*   [Connect from ChatGPT](https://developers.openai.com/apps-sdk/deploy/connect-chatgpt)
*   [Test your integration](https://developers.openai.com/apps-sdk/deploy/testing)

### Guides

*   [Optimize Metadata](https://developers.openai.com/apps-sdk/guides/optimize-metadata)
*   [Security & Privacy](https://developers.openai.com/apps-sdk/guides/security-privacy)
*   [Troubleshooting](https://developers.openai.com/apps-sdk/deploy/troubleshooting)

### Resources

*   [Reference](https://developers.openai.com/apps-sdk/reference)
*   [App developer guidelines](https://developers.openai.com/apps-sdk/app-developer-guidelines)

*   [All posts](https://developers.openai.com/blog)

### Recent

*   [How Codex ran OpenAI DevDay 2025](https://developers.openai.com/blog/codex-at-devday)
*   [Why we built the Responses API](https://developers.openai.com/blog/responses-api)
*   [Developer notes on the Realtime API](https://developers.openai.com/blog/realtime-api)
*   [Hello, world!](https://developers.openai.com/blog/intro)

1.   [ChatGPT](https://developers.openai.com/chatgpt)
2.   >[Apps SDK](https://developers.openai.com/apps-sdk)

*   [Home](https://developers.openai.com/apps-sdk)

### Core Concepts

*   [MCP Server](https://developers.openai.com/apps-sdk/concepts/mcp-server)
*   [User interaction](https://developers.openai.com/apps-sdk/concepts/user-interaction)
*   [Design guidelines](https://developers.openai.com/apps-sdk/concepts/design-guidelines)

### Plan

*   [Research use cases](https://developers.openai.com/apps-sdk/plan/use-case)
*   [Define tools](https://developers.openai.com/apps-sdk/plan/tools)
*   [Design components](https://developers.openai.com/apps-sdk/plan/components)

### Build

*   [Set up your server](https://developers.openai.com/apps-sdk/build/mcp-server)
*   [Build a custom UX](https://developers.openai.com/apps-sdk/build/custom-ux)
*   [Authenticate users](https://developers.openai.com/apps-sdk/build/auth)
*   [Persist state](https://developers.openai.com/apps-sdk/build/storage)
*   [Examples](https://developers.openai.com/apps-sdk/build/examples)

### Deploy

*   [Deploy your app](https://developers.openai.com/apps-sdk/deploy)
*   [Connect from ChatGPT](https://developers.openai.com/apps-sdk/deploy/connect-chatgpt)
*   [Test your integration](https://developers.openai.com/apps-sdk/deploy/testing)

### Guides

*   [Optimize Metadata](https://developers.openai.com/apps-sdk/guides/optimize-metadata)
*   [Security & Privacy](https://developers.openai.com/apps-sdk/guides/security-privacy)
*   [Troubleshooting](https://developers.openai.com/apps-sdk/deploy/troubleshooting)

### Resources

*   [Reference](https://developers.openai.com/apps-sdk/reference)
*   [App developer guidelines](https://developers.openai.com/apps-sdk/app-developer-guidelines)

Storage
=======

Persisting state and data for Apps SDK.

Why storage matters
-------------------

Apps SDK handles conversation state automatically, but most real-world apps also need durable storage. You might cache fetched data, keep track of user preferences, or persist artifacts created inside a component. Choosing the right storage model upfront keeps your connector fast, reliable, and compliant.

Bring your own backend
----------------------

If you already run an API or need multi-user collaboration, integrate with your existing storage layer. In this model:

*   Authenticate the user via OAuth (see [Authentication](https://developers.openai.com/apps-sdk/build/auth)) so you can map ChatGPT identities to your internal accounts.
*   Use your backend’s APIs to fetch and mutate data. Keep latency low; users expect components to render in a few hundred milliseconds.
*   Return sufficient structured content so the model can understand the data even if the component fails to load.

When you roll your own storage, plan for:

*   **Data residency and compliance** – ensure you have agreements in place before transferring PII or regulated data.
*   **Rate limits** – protect your APIs against bursty traffic from model retries or multiple active components.
*   **Versioning** – include schema versions in stored objects so you can migrate them without breaking existing conversations.

Persisting component state
--------------------------

Regardless of where you store authoritative data, design a clear state contract:

*   Use `window.openai.setWidgetState` for ephemeral UI state (selected tab, collapsed sections). This state travels with the conversation and is ideal for restoring context after a follow-up prompt.
*   Persist durable artifacts in your backend or the managed storage layer. Include identifiers in both the structured content and the `widgetState` payload so you can correlate them later.
*   Handle merge conflicts gracefully: if another user updates the underlying data, refresh the component via a follow-up tool call and explain the change in the chat transcript.

Operational tips
----------------

*   **Backups and monitoring** – treat MCP traffic like any other API. Log tool calls with correlation IDs and monitor for error spikes.
*   **Data retention** – set clear policies for how long you keep user data and how users can revoke access.
*   **Dogfood first** – run the storage path with internal testers before launching broadly so you can validate quotas, schema evolutions, and replay scenarios.

With a storage strategy in place you can safely handle read and write scenarios without compromising user trust.

[Previous Authenticate users](https://developers.openai.com/apps-sdk/build/auth)[Next Examples](https://developers.openai.com/apps-sdk/build/examples)
